This code can be use in conjunction with the Quickstart Sample apps
but the proxy JSP and properties file will work a generic proxy setup as well.

Steps to produce a working setup:

 1) download PingFederate 6.5.x and deploy it together with a license file

 2) download the quickstart sample apps and deploy according to the documentation
    but without deploying the included data.zip file

 3) copy the proxy.war directory in server/default/deploy (using cp -r)

 4) drop the data.zip from this distribution in server/default/data/drop-in-deployer
    instead of the one that comes with the Quickstart sample apps

 5) modify your /etc/hosts file so that "proxy" resolves to "127.0.0.1" just
    like "localhost"

 6) run the demo by accessing https://localhost:9031/quickstart-app-sp and selecting "Proxy IDP"
    and then PF-DEMO from the subsequent IDP Discovery screen
 
Below is an overview of the settings for the Reference ID IDP and SP adapters
that need to configured to support this configuration.

SP Proxy Adapter Settings
=========================

Type	
Instance Name	Proxy SP Adapter
Instance Id	ProxySpAdapter
Type	ReferenceID Adapter 1.0
Class Name	com.pingidentity.pf.adapters.referenceid.SpBackchannelReferenceAuthnAdapter
Instance Configuration	
User Name	ref
Allowed Subject DN	
Allowed Issuer DN	
Logout Service Endpoint	https://proxy:9031/proxy/?cmd=sp-slo
Account Linking Authentication Endpoint	
Reference Duration	3
Reference Length	30
Require SSL/TLS	true
Outgoing Attribute Format	JSON
Incoming Attribute Format	JSON
Logout Mode	Front Channel
Skip Host Name Validation	false
Actions	
Show Pass Phrase	Shows the clear text value of the pass phrase for copying to applications.
Extended Contract	
Attribute	email address
Attribute	member status
Attribute	name
Attribute	subject
Attribute	userid

IDP Proxy Adapter Settings
==========================

Type	
Instance Name	Proxy IDP Adapter
Instance Id	ProxyIDPAdapter
Type	ReferenceID Adapter 1.0
Class Name	com.pingidentity.pf.adapters.referenceid.IdpBackchannelReferenceAuthnAdapter
IdP Adapter	
Authentication Endpoint	https://proxy:9031/proxy/?cmd=idp-sso
User Name	ref
Allowed Subject DN	
Allowed Issuer DN	
Logout Service Endpoint	https://proxy:9031/proxy/?cmd=idp-slo
Reference Duration	3
Reference Length	30
Require SSL/TLS	true
Outgoing Attribute Format	JSON
Incoming Attribute Format	JSON
Logout Mode	Front Channel
Skip Host Name Validation	false
Actions	
Show Pass Phrase	Shows the clear text value of the pass phrase for copying to applications.
Extended Contract	
Attribute	email
Attribute	fname
Attribute	lname
Attribute	salary
Attribute	sessionId
Attribute	subject
Attribute	username
Adapter Attributes	
Mask all OGNL expression log values	false
Pseudonym	subject
